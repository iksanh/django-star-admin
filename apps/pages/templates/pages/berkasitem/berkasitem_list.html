{% extends "layouts/base.html" %} {% load static %} {% block title %} Detail
Pemeriksaan {% endblock title %} {% load split_points %} {% block content %}

<div class="col-10">
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Daftar Berkas</h4>
      <div class="d-flex justify-content-end">
<a
        href="{% url 'berkasitem_create' %}"
        class="btn btn-sm btn-primary "
        >Tambah Berkas</a
      >
      </div>
      
      <div class="table-responsive">
        <table class="table">
          <tr>
            <th>#</th>
            <th>Item</th>
            <th>Nomor</th>
            <th>Layanan</th>
            <th>Catatan</th>
            <th>Aksi</th>
          </tr>
          <tbody>
            {% for l in berkasitems %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td class="text-wrap">{{ l.nama }}</td>
              <td class="text-wrap">{{ l.number|default_if_none:"-" }}</td>
              <td>
                {% for lay in l.layanan.all %}
                <strong>{{ lay.nama }}</strong>{% if not forloop.last %}, 
                {% endif %} {% empty %}
                <span class="text-muted">Tidak ada</span>
                {% endfor %}
              </td>
              <td class="text-wrap">
                {% for point in l.catatan|split_points %}
            <li>{{ point }}</li>
        {% endfor %}
              </td>
              <td>
                <a
                  href="{% url 'berkasitem_edit' l.pk %}"
                  class="btn btn-sm btn-warning"
                  >Edit</a
                >
                <a
                  href="{% url 'berkasitem_delete' l.pk %}"
                  class="btn btn-sm btn-danger"
                  >Hapus</a
                >
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- PAGINATION -->
<div class="d-flex justify-content-center mt-3">
  <nav aria-label="Page navigation">
    <ul class="pagination">

      {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        </li>
      {% else %}
        <li class="page-item disabled"><span class="page-link">Previous</span></li>
      {% endif %}

      {% for page_num in page_obj.paginator.page_range %}
        {% if page_obj.number == page_num %}
          <li class="page-item active"><span class="page-link">{{ page_num }}</span></li>
        {% else %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
          </li>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
        </li>
      {% else %}
        <li class="page-item disabled"><span class="page-link">Next</span></li>
      {% endif %}

    </ul>
  </nav>
</div>
<!-- end pagination  -->
    </div>
  </div>
</div>

{% endblock content %}
